version: '3.8'
services:
  frontend:
    build: ./movie-project-mern
    ports:
      - "80:80"

  backend:
    build: ./movie-mern-project-backend
    ports:
      - "3500:3500"
    depends_on:
      - db

  # db:
  #   image: postgres:latest
  #   environment:
  #     POSTGRES_USER: root
  #     POSTGRES_PASSWORD: root
  #     POSTGRES_DB: mydb
  #   ports:
  #     - "27017:27017"
  db:
    image: mongo:latest   # Use MongoDB image
    environment:
      MONGO_INITDB_ROOT_USERNAME: root    # Set MongoDB root username
      MONGO_INITDB_ROOT_PASSWORD: root    # Set MongoDB root password
      MONGO_INITDB_DATABASE: mydb          # Default database
    ports:
      - "27017:27017"
